import"./chakra-ui-DL3iEWi3.js";import{xO as e}from"./excalidraw-BVZg9Rtv.js";import{A as t,B as n,E as r,F as i,J as a,L as o,P as s,R as c,_ as l,b as u,c as d,g as f,s as p,ut as m,v as h}from"./mermaid-b5860b54-815JLV4g.js";import{it as g}from"./app-BPHGYvoL.js";m(),e(),a();var _=function(){var e=function(e,t,n,r){for(n||={},r=e.length;r--;n[e[r]]=t);return n},t=[1,3],n=[1,6],r=[1,4],i=[1,5],a=[2,5],o=[1,12],s=[5,7,13,19,21,23,24,26,28,31,37,40,47],c=[7,13,19,21,23,24,26,28,31,37,40],l=[7,12,13,19,21,23,24,26,28,31,37,40],u=[7,13,47],d=[1,42],f=[1,41],p=[7,13,29,32,35,38,47],m=[1,55],h=[1,56],g=[1,57],_=[7,13,32,35,42,47],v={trace:function(){},yy:{},symbols_:{error:2,start:3,eol:4,GG:5,document:6,EOF:7,":":8,DIR:9,options:10,body:11,OPT:12,NL:13,line:14,statement:15,commitStatement:16,mergeStatement:17,cherryPickStatement:18,acc_title:19,acc_title_value:20,acc_descr:21,acc_descr_value:22,acc_descr_multiline_value:23,section:24,branchStatement:25,CHECKOUT:26,ref:27,BRANCH:28,ORDER:29,NUM:30,CHERRY_PICK:31,COMMIT_ID:32,STR:33,PARENT_COMMIT:34,COMMIT_TAG:35,EMPTYSTR:36,MERGE:37,COMMIT_TYPE:38,commitType:39,COMMIT:40,commit_arg:41,COMMIT_MSG:42,NORMAL:43,REVERSE:44,HIGHLIGHT:45,ID:46,";":47,$accept:0,$end:1},terminals_:{2:`error`,5:`GG`,7:`EOF`,8:`:`,9:`DIR`,12:`OPT`,13:`NL`,19:`acc_title`,20:`acc_title_value`,21:`acc_descr`,22:`acc_descr_value`,23:`acc_descr_multiline_value`,24:`section`,26:`CHECKOUT`,28:`BRANCH`,29:`ORDER`,30:`NUM`,31:`CHERRY_PICK`,32:`COMMIT_ID`,33:`STR`,34:`PARENT_COMMIT`,35:`COMMIT_TAG`,36:`EMPTYSTR`,37:`MERGE`,38:`COMMIT_TYPE`,40:`COMMIT`,42:`COMMIT_MSG`,43:`NORMAL`,44:`REVERSE`,45:`HIGHLIGHT`,46:`ID`,47:`;`},productions_:[0,[3,2],[3,3],[3,4],[3,5],[6,0],[6,2],[10,2],[10,1],[11,0],[11,2],[14,2],[14,1],[15,1],[15,1],[15,1],[15,2],[15,2],[15,1],[15,1],[15,1],[15,2],[25,2],[25,4],[18,3],[18,5],[18,5],[18,7],[18,7],[18,5],[18,5],[18,5],[18,7],[18,7],[18,7],[18,7],[17,2],[17,4],[17,4],[17,4],[17,6],[17,6],[17,6],[17,6],[17,6],[17,6],[17,8],[17,8],[17,8],[17,8],[17,8],[17,8],[16,2],[16,3],[16,3],[16,5],[16,5],[16,3],[16,5],[16,5],[16,5],[16,5],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,3],[16,5],[16,5],[16,5],[16,5],[16,5],[16,5],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,7],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[16,9],[41,0],[41,1],[39,1],[39,1],[39,1],[27,1],[27,1],[4,1],[4,1],[4,1]],performAction:function(e,t,n,r,i,a,o){var s=a.length-1;switch(i){case 2:return a[s];case 3:return a[s-1];case 4:return r.setDirection(a[s-3]),a[s-1];case 6:r.setOptions(a[s-1]),this.$=a[s];break;case 7:a[s-1]+=a[s],this.$=a[s-1];break;case 9:this.$=[];break;case 10:a[s-1].push(a[s]),this.$=a[s-1];break;case 11:this.$=a[s-1];break;case 16:this.$=a[s].trim(),r.setAccTitle(this.$);break;case 17:case 18:this.$=a[s].trim(),r.setAccDescription(this.$);break;case 19:r.addSection(a[s].substr(8)),this.$=a[s].substr(8);break;case 21:r.checkout(a[s]);break;case 22:r.branch(a[s]);break;case 23:r.branch(a[s-2],a[s]);break;case 24:r.cherryPick(a[s],``,void 0);break;case 25:r.cherryPick(a[s-2],``,void 0,a[s]);break;case 26:r.cherryPick(a[s-2],``,a[s]);break;case 27:r.cherryPick(a[s-4],``,a[s],a[s-2]);break;case 28:r.cherryPick(a[s-4],``,a[s-2],a[s]);break;case 29:r.cherryPick(a[s],``,a[s-2]);break;case 30:r.cherryPick(a[s],``,``);break;case 31:r.cherryPick(a[s-2],``,``);break;case 32:r.cherryPick(a[s-4],``,``,a[s-2]);break;case 33:r.cherryPick(a[s-4],``,``,a[s]);break;case 34:r.cherryPick(a[s-2],``,a[s-4],a[s]);break;case 35:r.cherryPick(a[s-2],``,``,a[s]);break;case 36:r.merge(a[s],``,``,``);break;case 37:r.merge(a[s-2],a[s],``,``);break;case 38:r.merge(a[s-2],``,a[s],``);break;case 39:r.merge(a[s-2],``,``,a[s]);break;case 40:r.merge(a[s-4],a[s],``,a[s-2]);break;case 41:r.merge(a[s-4],``,a[s],a[s-2]);break;case 42:r.merge(a[s-4],``,a[s-2],a[s]);break;case 43:r.merge(a[s-4],a[s-2],a[s],``);break;case 44:r.merge(a[s-4],a[s-2],``,a[s]);break;case 45:r.merge(a[s-4],a[s],a[s-2],``);break;case 46:r.merge(a[s-6],a[s-4],a[s-2],a[s]);break;case 47:r.merge(a[s-6],a[s],a[s-4],a[s-2]);break;case 48:r.merge(a[s-6],a[s-4],a[s],a[s-2]);break;case 49:r.merge(a[s-6],a[s-2],a[s-4],a[s]);break;case 50:r.merge(a[s-6],a[s],a[s-2],a[s-4]);break;case 51:r.merge(a[s-6],a[s-2],a[s],a[s-4]);break;case 52:r.commit(a[s]);break;case 53:r.commit(``,``,r.commitType.NORMAL,a[s]);break;case 54:r.commit(``,``,a[s],``);break;case 55:r.commit(``,``,a[s],a[s-2]);break;case 56:r.commit(``,``,a[s-2],a[s]);break;case 57:r.commit(``,a[s],r.commitType.NORMAL,``);break;case 58:r.commit(``,a[s-2],r.commitType.NORMAL,a[s]);break;case 59:r.commit(``,a[s],r.commitType.NORMAL,a[s-2]);break;case 60:r.commit(``,a[s-2],a[s],``);break;case 61:r.commit(``,a[s],a[s-2],``);break;case 62:r.commit(``,a[s-4],a[s-2],a[s]);break;case 63:r.commit(``,a[s-4],a[s],a[s-2]);break;case 64:r.commit(``,a[s-2],a[s-4],a[s]);break;case 65:r.commit(``,a[s],a[s-4],a[s-2]);break;case 66:r.commit(``,a[s],a[s-2],a[s-4]);break;case 67:r.commit(``,a[s-2],a[s],a[s-4]);break;case 68:r.commit(a[s],``,r.commitType.NORMAL,``);break;case 69:r.commit(a[s],``,r.commitType.NORMAL,a[s-2]);break;case 70:r.commit(a[s-2],``,r.commitType.NORMAL,a[s]);break;case 71:r.commit(a[s-2],``,a[s],``);break;case 72:r.commit(a[s],``,a[s-2],``);break;case 73:r.commit(a[s],a[s-2],r.commitType.NORMAL,``);break;case 74:r.commit(a[s-2],a[s],r.commitType.NORMAL,``);break;case 75:r.commit(a[s-4],``,a[s-2],a[s]);break;case 76:r.commit(a[s-4],``,a[s],a[s-2]);break;case 77:r.commit(a[s-2],``,a[s-4],a[s]);break;case 78:r.commit(a[s],``,a[s-4],a[s-2]);break;case 79:r.commit(a[s],``,a[s-2],a[s-4]);break;case 80:r.commit(a[s-2],``,a[s],a[s-4]);break;case 81:r.commit(a[s-4],a[s],a[s-2],``);break;case 82:r.commit(a[s-4],a[s-2],a[s],``);break;case 83:r.commit(a[s-2],a[s],a[s-4],``);break;case 84:r.commit(a[s],a[s-2],a[s-4],``);break;case 85:r.commit(a[s],a[s-4],a[s-2],``);break;case 86:r.commit(a[s-2],a[s-4],a[s],``);break;case 87:r.commit(a[s-4],a[s],r.commitType.NORMAL,a[s-2]);break;case 88:r.commit(a[s-4],a[s-2],r.commitType.NORMAL,a[s]);break;case 89:r.commit(a[s-2],a[s],r.commitType.NORMAL,a[s-4]);break;case 90:r.commit(a[s],a[s-2],r.commitType.NORMAL,a[s-4]);break;case 91:r.commit(a[s],a[s-4],r.commitType.NORMAL,a[s-2]);break;case 92:r.commit(a[s-2],a[s-4],r.commitType.NORMAL,a[s]);break;case 93:r.commit(a[s-6],a[s-4],a[s-2],a[s]);break;case 94:r.commit(a[s-6],a[s-4],a[s],a[s-2]);break;case 95:r.commit(a[s-6],a[s-2],a[s-4],a[s]);break;case 96:r.commit(a[s-6],a[s],a[s-4],a[s-2]);break;case 97:r.commit(a[s-6],a[s-2],a[s],a[s-4]);break;case 98:r.commit(a[s-6],a[s],a[s-2],a[s-4]);break;case 99:r.commit(a[s-4],a[s-6],a[s-2],a[s]);break;case 100:r.commit(a[s-4],a[s-6],a[s],a[s-2]);break;case 101:r.commit(a[s-2],a[s-6],a[s-4],a[s]);break;case 102:r.commit(a[s],a[s-6],a[s-4],a[s-2]);break;case 103:r.commit(a[s-2],a[s-6],a[s],a[s-4]);break;case 104:r.commit(a[s],a[s-6],a[s-2],a[s-4]);break;case 105:r.commit(a[s],a[s-4],a[s-2],a[s-6]);break;case 106:r.commit(a[s-2],a[s-4],a[s],a[s-6]);break;case 107:r.commit(a[s],a[s-2],a[s-4],a[s-6]);break;case 108:r.commit(a[s-2],a[s],a[s-4],a[s-6]);break;case 109:r.commit(a[s-4],a[s-2],a[s],a[s-6]);break;case 110:r.commit(a[s-4],a[s],a[s-2],a[s-6]);break;case 111:r.commit(a[s-2],a[s-4],a[s-6],a[s]);break;case 112:r.commit(a[s],a[s-4],a[s-6],a[s-2]);break;case 113:r.commit(a[s-2],a[s],a[s-6],a[s-4]);break;case 114:r.commit(a[s],a[s-2],a[s-6],a[s-4]);break;case 115:r.commit(a[s-4],a[s-2],a[s-6],a[s]);break;case 116:r.commit(a[s-4],a[s],a[s-6],a[s-2]);break;case 117:this.$=``;break;case 118:this.$=a[s];break;case 119:this.$=r.commitType.NORMAL;break;case 120:this.$=r.commitType.REVERSE;break;case 121:this.$=r.commitType.HIGHLIGHT;break}},table:[{3:1,4:2,5:t,7:n,13:r,47:i},{1:[3]},{3:7,4:2,5:t,7:n,13:r,47:i},{6:8,7:a,8:[1,9],9:[1,10],10:11,13:o},e(s,[2,124]),e(s,[2,125]),e(s,[2,126]),{1:[2,1]},{7:[1,13]},{6:14,7:a,10:11,13:o},{8:[1,15]},e(c,[2,9],{11:16,12:[1,17]}),e(l,[2,8]),{1:[2,2]},{7:[1,18]},{6:19,7:a,10:11,13:o},{7:[2,6],13:[1,22],14:20,15:21,16:23,17:24,18:25,19:[1,26],21:[1,27],23:[1,28],24:[1,29],25:30,26:[1,31],28:[1,35],31:[1,34],37:[1,33],40:[1,32]},e(l,[2,7]),{1:[2,3]},{7:[1,36]},e(c,[2,10]),{4:37,7:n,13:r,47:i},e(c,[2,12]),e(u,[2,13]),e(u,[2,14]),e(u,[2,15]),{20:[1,38]},{22:[1,39]},e(u,[2,18]),e(u,[2,19]),e(u,[2,20]),{27:40,33:d,46:f},e(u,[2,117],{41:43,32:[1,46],33:[1,48],35:[1,44],38:[1,45],42:[1,47]}),{27:49,33:d,46:f},{32:[1,50],35:[1,51]},{27:52,33:d,46:f},{1:[2,4]},e(c,[2,11]),e(u,[2,16]),e(u,[2,17]),e(u,[2,21]),e(p,[2,122]),e(p,[2,123]),e(u,[2,52]),{33:[1,53]},{39:54,43:m,44:h,45:g},{33:[1,58]},{33:[1,59]},e(u,[2,118]),e(u,[2,36],{32:[1,60],35:[1,62],38:[1,61]}),{33:[1,63]},{33:[1,64],36:[1,65]},e(u,[2,22],{29:[1,66]}),e(u,[2,53],{32:[1,68],38:[1,67],42:[1,69]}),e(u,[2,54],{32:[1,71],35:[1,70],42:[1,72]}),e(_,[2,119]),e(_,[2,120]),e(_,[2,121]),e(u,[2,57],{35:[1,73],38:[1,74],42:[1,75]}),e(u,[2,68],{32:[1,78],35:[1,76],38:[1,77]}),{33:[1,79]},{39:80,43:m,44:h,45:g},{33:[1,81]},e(u,[2,24],{34:[1,82],35:[1,83]}),{32:[1,84]},{32:[1,85]},{30:[1,86]},{39:87,43:m,44:h,45:g},{33:[1,88]},{33:[1,89]},{33:[1,90]},{33:[1,91]},{33:[1,92]},{33:[1,93]},{39:94,43:m,44:h,45:g},{33:[1,95]},{33:[1,96]},{39:97,43:m,44:h,45:g},{33:[1,98]},e(u,[2,37],{35:[1,100],38:[1,99]}),e(u,[2,38],{32:[1,102],35:[1,101]}),e(u,[2,39],{32:[1,103],38:[1,104]}),{33:[1,105]},{33:[1,106],36:[1,107]},{33:[1,108]},{33:[1,109]},e(u,[2,23]),e(u,[2,55],{32:[1,110],42:[1,111]}),e(u,[2,59],{38:[1,112],42:[1,113]}),e(u,[2,69],{32:[1,115],38:[1,114]}),e(u,[2,56],{32:[1,116],42:[1,117]}),e(u,[2,61],{35:[1,118],42:[1,119]}),e(u,[2,72],{32:[1,121],35:[1,120]}),e(u,[2,58],{38:[1,122],42:[1,123]}),e(u,[2,60],{35:[1,124],42:[1,125]}),e(u,[2,73],{35:[1,127],38:[1,126]}),e(u,[2,70],{32:[1,129],38:[1,128]}),e(u,[2,71],{32:[1,131],35:[1,130]}),e(u,[2,74],{35:[1,133],38:[1,132]}),{39:134,43:m,44:h,45:g},{33:[1,135]},{33:[1,136]},{33:[1,137]},{33:[1,138]},{39:139,43:m,44:h,45:g},e(u,[2,25],{35:[1,140]}),e(u,[2,26],{34:[1,141]}),e(u,[2,31],{34:[1,142]}),e(u,[2,29],{34:[1,143]}),e(u,[2,30],{34:[1,144]}),{33:[1,145]},{33:[1,146]},{39:147,43:m,44:h,45:g},{33:[1,148]},{39:149,43:m,44:h,45:g},{33:[1,150]},{33:[1,151]},{33:[1,152]},{33:[1,153]},{33:[1,154]},{33:[1,155]},{33:[1,156]},{39:157,43:m,44:h,45:g},{33:[1,158]},{33:[1,159]},{33:[1,160]},{39:161,43:m,44:h,45:g},{33:[1,162]},{39:163,43:m,44:h,45:g},{33:[1,164]},{33:[1,165]},{33:[1,166]},{39:167,43:m,44:h,45:g},{33:[1,168]},e(u,[2,43],{35:[1,169]}),e(u,[2,44],{38:[1,170]}),e(u,[2,42],{32:[1,171]}),e(u,[2,45],{35:[1,172]}),e(u,[2,40],{38:[1,173]}),e(u,[2,41],{32:[1,174]}),{33:[1,175],36:[1,176]},{33:[1,177]},{33:[1,178]},{33:[1,179]},{33:[1,180]},e(u,[2,66],{42:[1,181]}),e(u,[2,79],{32:[1,182]}),e(u,[2,67],{42:[1,183]}),e(u,[2,90],{38:[1,184]}),e(u,[2,80],{32:[1,185]}),e(u,[2,89],{38:[1,186]}),e(u,[2,65],{42:[1,187]}),e(u,[2,78],{32:[1,188]}),e(u,[2,64],{42:[1,189]}),e(u,[2,84],{35:[1,190]}),e(u,[2,77],{32:[1,191]}),e(u,[2,83],{35:[1,192]}),e(u,[2,63],{42:[1,193]}),e(u,[2,91],{38:[1,194]}),e(u,[2,62],{42:[1,195]}),e(u,[2,85],{35:[1,196]}),e(u,[2,86],{35:[1,197]}),e(u,[2,92],{38:[1,198]}),e(u,[2,76],{32:[1,199]}),e(u,[2,87],{38:[1,200]}),e(u,[2,75],{32:[1,201]}),e(u,[2,81],{35:[1,202]}),e(u,[2,82],{35:[1,203]}),e(u,[2,88],{38:[1,204]}),{33:[1,205]},{39:206,43:m,44:h,45:g},{33:[1,207]},{33:[1,208]},{39:209,43:m,44:h,45:g},{33:[1,210]},e(u,[2,27]),e(u,[2,32]),e(u,[2,28]),e(u,[2,33]),e(u,[2,34]),e(u,[2,35]),{33:[1,211]},{33:[1,212]},{33:[1,213]},{39:214,43:m,44:h,45:g},{33:[1,215]},{39:216,43:m,44:h,45:g},{33:[1,217]},{33:[1,218]},{33:[1,219]},{33:[1,220]},{33:[1,221]},{33:[1,222]},{33:[1,223]},{39:224,43:m,44:h,45:g},{33:[1,225]},{33:[1,226]},{33:[1,227]},{39:228,43:m,44:h,45:g},{33:[1,229]},{39:230,43:m,44:h,45:g},{33:[1,231]},{33:[1,232]},{33:[1,233]},{39:234,43:m,44:h,45:g},e(u,[2,46]),e(u,[2,48]),e(u,[2,47]),e(u,[2,49]),e(u,[2,51]),e(u,[2,50]),e(u,[2,107]),e(u,[2,108]),e(u,[2,105]),e(u,[2,106]),e(u,[2,110]),e(u,[2,109]),e(u,[2,114]),e(u,[2,113]),e(u,[2,112]),e(u,[2,111]),e(u,[2,116]),e(u,[2,115]),e(u,[2,104]),e(u,[2,103]),e(u,[2,102]),e(u,[2,101]),e(u,[2,99]),e(u,[2,100]),e(u,[2,98]),e(u,[2,97]),e(u,[2,96]),e(u,[2,95]),e(u,[2,93]),e(u,[2,94])],defaultActions:{7:[2,1],13:[2,2],18:[2,3],36:[2,4]},parseError:function(e,t){if(t.recoverable)this.trace(e);else{var n=Error(e);throw n.hash=t,n}},parse:function(e){var t=this,n=[0],r=[],i=[null],a=[],o=this.table,s=``,c=0,l=0,u=2,d=1,f=a.slice.call(arguments,1),p=Object.create(this.lexer),m={yy:{}};for(var h in this.yy)Object.prototype.hasOwnProperty.call(this.yy,h)&&(m.yy[h]=this.yy[h]);p.setInput(e,m.yy),m.yy.lexer=p,m.yy.parser=this,p.yylloc===void 0&&(p.yylloc={});var g=p.yylloc;a.push(g);var _=p.options&&p.options.ranges;typeof m.yy.parseError==`function`?this.parseError=m.yy.parseError:this.parseError=Object.getPrototypeOf(this).parseError;function v(){var e=r.pop()||p.lex()||d;return typeof e!=`number`&&(e instanceof Array&&(r=e,e=r.pop()),e=t.symbols_[e]||e),e}for(var y,b,x,S,C={},w,T,E,D;;){if(b=n[n.length-1],this.defaultActions[b]?x=this.defaultActions[b]:(y??=v(),x=o[b]&&o[b][y]),x===void 0||!x.length||!x[0]){var O=``;for(w in D=[],o[b])this.terminals_[w]&&w>u&&D.push(`'`+this.terminals_[w]+`'`);O=p.showPosition?`Parse error on line `+(c+1)+`:
`+p.showPosition()+`
Expecting `+D.join(`, `)+`, got '`+(this.terminals_[y]||y)+`'`:`Parse error on line `+(c+1)+`: Unexpected `+(y==d?`end of input`:`'`+(this.terminals_[y]||y)+`'`),this.parseError(O,{text:p.match,token:this.terminals_[y]||y,line:p.yylineno,loc:g,expected:D})}if(x[0]instanceof Array&&x.length>1)throw Error(`Parse Error: multiple actions possible at state: `+b+`, token: `+y);switch(x[0]){case 1:n.push(y),i.push(p.yytext),a.push(p.yylloc),n.push(x[1]),y=null,l=p.yyleng,s=p.yytext,c=p.yylineno,g=p.yylloc;break;case 2:if(T=this.productions_[x[1]][1],C.$=i[i.length-T],C._$={first_line:a[a.length-(T||1)].first_line,last_line:a[a.length-1].last_line,first_column:a[a.length-(T||1)].first_column,last_column:a[a.length-1].last_column},_&&(C._$.range=[a[a.length-(T||1)].range[0],a[a.length-1].range[1]]),S=this.performAction.apply(C,[s,l,c,m.yy,x[1],i,a].concat(f)),S!==void 0)return S;T&&(n=n.slice(0,-1*T*2),i=i.slice(0,-1*T),a=a.slice(0,-1*T)),n.push(this.productions_[x[1]][0]),i.push(C.$),a.push(C._$),E=o[n[n.length-2]][n[n.length-1]],n.push(E);break;case 3:return!0}}return!0}};v.lexer=function(){return{EOF:1,parseError:function(e,t){if(this.yy.parser)this.yy.parser.parseError(e,t);else throw Error(e)},setInput:function(e,t){return this.yy=t||this.yy||{},this._input=e,this._more=this._backtrack=this.done=!1,this.yylineno=this.yyleng=0,this.yytext=this.matched=this.match=``,this.conditionStack=[`INITIAL`],this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0},this.options.ranges&&(this.yylloc.range=[0,0]),this.offset=0,this},input:function(){var e=this._input[0];return this.yytext+=e,this.yyleng++,this.offset++,this.match+=e,this.matched+=e,e.match(/(?:\r\n?|\n).*/g)?(this.yylineno++,this.yylloc.last_line++):this.yylloc.last_column++,this.options.ranges&&this.yylloc.range[1]++,this._input=this._input.slice(1),e},unput:function(e){var t=e.length,n=e.split(/(?:\r\n?|\n)/g);this._input=e+this._input,this.yytext=this.yytext.substr(0,this.yytext.length-t),this.offset-=t;var r=this.match.split(/(?:\r\n?|\n)/g);this.match=this.match.substr(0,this.match.length-1),this.matched=this.matched.substr(0,this.matched.length-1),n.length-1&&(this.yylineno-=n.length-1);var i=this.yylloc.range;return this.yylloc={first_line:this.yylloc.first_line,last_line:this.yylineno+1,first_column:this.yylloc.first_column,last_column:n?(n.length===r.length?this.yylloc.first_column:0)+r[r.length-n.length].length-n[0].length:this.yylloc.first_column-t},this.options.ranges&&(this.yylloc.range=[i[0],i[0]+this.yyleng-t]),this.yyleng=this.yytext.length,this},more:function(){return this._more=!0,this},reject:function(){if(this.options.backtrack_lexer)this._backtrack=!0;else return this.parseError(`Lexical error on line `+(this.yylineno+1)+`. You can only invoke reject() in the lexer when the lexer is of the backtracking persuasion (options.backtrack_lexer = true).
`+this.showPosition(),{text:``,token:null,line:this.yylineno});return this},less:function(e){this.unput(this.match.slice(e))},pastInput:function(){var e=this.matched.substr(0,this.matched.length-this.match.length);return(e.length>20?`...`:``)+e.substr(-20).replace(/\n/g,``)},upcomingInput:function(){var e=this.match;return e.length<20&&(e+=this._input.substr(0,20-e.length)),(e.substr(0,20)+(e.length>20?`...`:``)).replace(/\n/g,``)},showPosition:function(){var e=this.pastInput(),t=Array(e.length+1).join(`-`);return e+this.upcomingInput()+`
`+t+`^`},test_match:function(e,t){var n,r,i;if(this.options.backtrack_lexer&&(i={yylineno:this.yylineno,yylloc:{first_line:this.yylloc.first_line,last_line:this.last_line,first_column:this.yylloc.first_column,last_column:this.yylloc.last_column},yytext:this.yytext,match:this.match,matches:this.matches,matched:this.matched,yyleng:this.yyleng,offset:this.offset,_more:this._more,_input:this._input,yy:this.yy,conditionStack:this.conditionStack.slice(0),done:this.done},this.options.ranges&&(i.yylloc.range=this.yylloc.range.slice(0))),r=e[0].match(/(?:\r\n?|\n).*/g),r&&(this.yylineno+=r.length),this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:r?r[r.length-1].length-r[r.length-1].match(/\r?\n?/)[0].length:this.yylloc.last_column+e[0].length},this.yytext+=e[0],this.match+=e[0],this.matches=e,this.yyleng=this.yytext.length,this.options.ranges&&(this.yylloc.range=[this.offset,this.offset+=this.yyleng]),this._more=!1,this._backtrack=!1,this._input=this._input.slice(e[0].length),this.matched+=e[0],n=this.performAction.call(this,this.yy,this,t,this.conditionStack[this.conditionStack.length-1]),this.done&&this._input&&(this.done=!1),n)return n;if(this._backtrack){for(var a in i)this[a]=i[a];return!1}return!1},next:function(){if(this.done)return this.EOF;this._input||(this.done=!0);var e,t,n,r;this._more||(this.yytext=``,this.match=``);for(var i=this._currentRules(),a=0;a<i.length;a++)if(n=this._input.match(this.rules[i[a]]),n&&(!t||n[0].length>t[0].length)){if(t=n,r=a,this.options.backtrack_lexer){if(e=this.test_match(n,i[a]),e!==!1)return e;if(this._backtrack){t=!1;continue}else return!1}else if(!this.options.flex)break}return t?(e=this.test_match(t,i[r]),e===!1?!1:e):this._input===``?this.EOF:this.parseError(`Lexical error on line `+(this.yylineno+1)+`. Unrecognized text.
`+this.showPosition(),{text:``,token:null,line:this.yylineno})},lex:function(){return this.next()||this.lex()},begin:function(e){this.conditionStack.push(e)},popState:function(){return this.conditionStack.length-1>0?this.conditionStack.pop():this.conditionStack[0]},_currentRules:function(){return this.conditionStack.length&&this.conditionStack[this.conditionStack.length-1]?this.conditions[this.conditionStack[this.conditionStack.length-1]].rules:this.conditions.INITIAL.rules},topState:function(e){return e=this.conditionStack.length-1-Math.abs(e||0),e>=0?this.conditionStack[e]:`INITIAL`},pushState:function(e){this.begin(e)},stateStackSize:function(){return this.conditionStack.length},options:{"case-insensitive":!0},performAction:function(e,t,n,r){switch(n){case 0:return this.begin(`acc_title`),19;case 1:return this.popState(),`acc_title_value`;case 2:return this.begin(`acc_descr`),21;case 3:return this.popState(),`acc_descr_value`;case 4:this.begin(`acc_descr_multiline`);break;case 5:this.popState();break;case 6:return`acc_descr_multiline_value`;case 7:return 13;case 8:break;case 9:break;case 10:return 5;case 11:return 40;case 12:return 32;case 13:return 38;case 14:return 42;case 15:return 43;case 16:return 44;case 17:return 45;case 18:return 35;case 19:return 28;case 20:return 29;case 21:return 37;case 22:return 31;case 23:return 34;case 24:return 26;case 25:return 9;case 26:return 9;case 27:return 8;case 28:return`CARET`;case 29:this.begin(`options`);break;case 30:this.popState();break;case 31:return 12;case 32:return 36;case 33:this.begin(`string`);break;case 34:this.popState();break;case 35:return 33;case 36:return 30;case 37:return 46;case 38:return 7}},rules:[/^(?:accTitle\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*:\s*)/i,/^(?:(?!\n||)*[^\n]*)/i,/^(?:accDescr\s*\{\s*)/i,/^(?:[\}])/i,/^(?:[^\}]*)/i,/^(?:(\r?\n)+)/i,/^(?:#[^\n]*)/i,/^(?:%[^\n]*)/i,/^(?:gitGraph\b)/i,/^(?:commit(?=\s|$))/i,/^(?:id:)/i,/^(?:type:)/i,/^(?:msg:)/i,/^(?:NORMAL\b)/i,/^(?:REVERSE\b)/i,/^(?:HIGHLIGHT\b)/i,/^(?:tag:)/i,/^(?:branch(?=\s|$))/i,/^(?:order:)/i,/^(?:merge(?=\s|$))/i,/^(?:cherry-pick(?=\s|$))/i,/^(?:parent:)/i,/^(?:checkout(?=\s|$))/i,/^(?:LR\b)/i,/^(?:TB\b)/i,/^(?::)/i,/^(?:\^)/i,/^(?:options\r?\n)/i,/^(?:[ \r\n\t]+end\b)/i,/^(?:[\s\S]+(?=[ \r\n\t]+end))/i,/^(?:["]["])/i,/^(?:["])/i,/^(?:["])/i,/^(?:[^"]*)/i,/^(?:[0-9]+(?=\s|$))/i,/^(?:\w([-\./\w]*[-\w])?)/i,/^(?:$)/i,/^(?:\s+)/i],conditions:{acc_descr_multiline:{rules:[5,6],inclusive:!1},acc_descr:{rules:[3],inclusive:!1},acc_title:{rules:[1],inclusive:!1},options:{rules:[30,31],inclusive:!1},string:{rules:[34,35],inclusive:!1},INITIAL:{rules:[0,2,4,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,32,33,36,37,38,39],inclusive:!0}}}}();function y(){this.yy={}}return y.prototype=v,v.Parser=y,new y}();_.parser=_;var v=_,y=h().gitGraph.mainBranchName,b=h().gitGraph.mainBranchOrder,x={},S=null,C={};C[y]={name:y,order:b};var w={};w[y]=S;var T=y,E=`LR`,D=0;function O(){return t({length:7})}function ee(e,t){let n=Object.create(null);return e.reduce((e,r)=>{let i=t(r);return n[i]||(n[i]=!0,e.push(r)),e},[])}var te=function(e){E=e},k={},ne=function(e){r.debug(`options str`,e),e&&=e.trim(),e||=`{}`;try{k=JSON.parse(e)}catch(e){r.error(`error while parsing gitGraph options`,e.message)}},re=function(){return k},ie=function(e,t,n,i){r.debug(`Entering commit:`,e,t,n,i),t=d.sanitizeText(t,h()),e=d.sanitizeText(e,h()),i=d.sanitizeText(i,h());let a={id:t||D+`-`+O(),message:e,seq:D++,type:n||H.NORMAL,tag:i||``,parents:S==null?[]:[S.id],branch:T};S=a,x[a.id]=a,w[T]=a.id,r.debug(`in pushCommit `+a.id)},ae=function(e,t){if(e=d.sanitizeText(e,h()),w[e]===void 0)w[e]=S==null?null:S.id,C[e]={name:e,order:t?parseInt(t,10):null},A(e),r.debug(`in createBranch`);else{let t=Error(`Trying to create an existing branch. (Help: Either use a new name if you want create a new branch or try using "checkout `+e+`")`);throw t.hash={text:`branch `+e,token:`branch `+e,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`"checkout `+e+`"`]},t}},oe=function(e,t,n,i){e=d.sanitizeText(e,h()),t=d.sanitizeText(t,h());let a=x[w[T]],o=x[w[e]];if(T===e){let t=Error(`Incorrect usage of "merge". Cannot merge a branch to itself`);throw t.hash={text:`merge `+e,token:`merge `+e,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`branch abc`]},t}else if(a===void 0||!a){let t=Error(`Incorrect usage of "merge". Current branch (`+T+`)has no commits`);throw t.hash={text:`merge `+e,token:`merge `+e,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`commit`]},t}else if(w[e]===void 0){let t=Error(`Incorrect usage of "merge". Branch to be merged (`+e+`) does not exist`);throw t.hash={text:`merge `+e,token:`merge `+e,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`branch `+e]},t}else if(o===void 0||!o){let t=Error(`Incorrect usage of "merge". Branch to be merged (`+e+`) has no commits`);throw t.hash={text:`merge `+e,token:`merge `+e,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`"commit"`]},t}else if(a===o){let t=Error(`Incorrect usage of "merge". Both branches have same head`);throw t.hash={text:`merge `+e,token:`merge `+e,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`branch abc`]},t}else if(t&&x[t]!==void 0){let r=Error(`Incorrect usage of "merge". Commit with id:`+t+` already exists, use different custom Id`);throw r.hash={text:`merge `+e+t+n+i,token:`merge `+e+t+n+i,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`merge `+e+` `+t+`_UNIQUE `+n+` `+i]},r}let s={id:t||D+`-`+O(),message:`merged branch `+e+` into `+T,seq:D++,parents:[S==null?null:S.id,w[e]],branch:T,type:H.MERGE,customType:n,customId:!!t,tag:i||``};S=s,x[s.id]=s,w[T]=s.id,r.debug(w),r.debug(`in mergeBranch`)},se=function(e,t,n,i){if(r.debug(`Entering cherryPick:`,e,t,n),e=d.sanitizeText(e,h()),t=d.sanitizeText(t,h()),n=d.sanitizeText(n,h()),i=d.sanitizeText(i,h()),!e||x[e]===void 0){let n=Error(`Incorrect usage of "cherryPick". Source commit id should exist and provided`);throw n.hash={text:`cherryPick `+e+` `+t,token:`cherryPick `+e+` `+t,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`cherry-pick abc`]},n}let a=x[e],o=a.branch;if(i&&!(Array.isArray(a.parents)&&a.parents.includes(i)))throw Error(`Invalid operation: The specified parent commit is not an immediate parent of the cherry-picked commit.`);if(a.type===H.MERGE&&!i)throw Error(`Incorrect usage of cherry-pick: If the source commit is a merge commit, an immediate parent commit must be specified.`);if(!t||x[t]===void 0){if(o===T){let n=Error(`Incorrect usage of "cherryPick". Source commit is already on current branch`);throw n.hash={text:`cherryPick `+e+` `+t,token:`cherryPick `+e+` `+t,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`cherry-pick abc`]},n}let s=x[w[T]];if(s===void 0||!s){let n=Error(`Incorrect usage of "cherry-pick". Current branch (`+T+`)has no commits`);throw n.hash={text:`cherryPick `+e+` `+t,token:`cherryPick `+e+` `+t,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`cherry-pick abc`]},n}let c={id:D+`-`+O(),message:`cherry-picked `+a+` into `+T,seq:D++,parents:[S==null?null:S.id,a.id],branch:T,type:H.CHERRY_PICK,tag:n??`cherry-pick:${a.id}${a.type===H.MERGE?`|parent:${i}`:``}`};S=c,x[c.id]=c,w[T]=c.id,r.debug(w),r.debug(`in cherryPick`)}},A=function(e){if(e=d.sanitizeText(e,h()),w[e]===void 0){let t=Error(`Trying to checkout branch which is not yet created. (Help try using "branch `+e+`")`);throw t.hash={text:`checkout `+e,token:`checkout `+e,line:`1`,loc:{first_line:1,last_line:1,first_column:1,last_column:1},expected:[`"branch `+e+`"`]},t}else{T=e;let t=w[T];S=x[t]}};function j(e,t,n){let r=e.indexOf(t);r===-1?e.push(n):e.splice(r,1,n)}function M(e){let t=e.reduce((e,t)=>e.seq>t.seq?e:t,e[0]),n=``;e.forEach(function(e){e===t?n+=`	*`:n+=`	|`});let i=[n,t.id,t.seq];for(let e in w)w[e]===t.id&&i.push(e);if(r.debug(i.join(` `)),t.parents&&t.parents.length==2){let n=x[t.parents[0]];j(e,t,n),e.push(x[t.parents[1]])}else if(t.parents.length==0)return;else{let n=x[t.parents];j(e,t,n)}e=ee(e,e=>e.id),M(e)}var N=function(){r.debug(x);let e=R()[0];M([e])},P=function(){x={},S=null;let e=h().gitGraph.mainBranchName,t=h().gitGraph.mainBranchOrder;w={},w[e]=null,C={},C[e]={name:e,order:t},T=e,D=0,p()},F=function(){return Object.values(C).map((e,t)=>e.order===null?{...e,order:parseFloat(`0.${t}`,10)}:e).sort((e,t)=>e.order-t.order).map(({name:e})=>({name:e}))},I=function(){return w},L=function(){return x},R=function(){let e=Object.keys(x).map(function(e){return x[e]});return e.forEach(function(e){r.debug(e.id)}),e.sort((e,t)=>e.seq-t.seq),e},z=function(){return T},B=function(){return E},V=function(){return S},H={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},ce={getConfig:()=>h().gitGraph,setDirection:te,setOptions:ne,getOptions:re,commit:ie,branch:ae,merge:oe,cherryPick:se,checkout:A,prettyPrint:N,clear:P,getBranchesAsObjArray:F,getBranches:I,getCommits:L,getCommitsArray:R,getCurrentBranch:z,getDirection:B,getHead:V,setAccTitle:i,getAccTitle:l,getAccDescription:f,setAccDescription:s,setDiagramTitle:o,getDiagramTitle:u,commitType:H},U={},W={NORMAL:0,REVERSE:1,HIGHLIGHT:2,MERGE:3,CHERRY_PICK:4},G=8,K={},q={},J=[],Y=0,X=`LR`,le=()=>{K={},q={},U={},Y=0,J=[],X=`LR`},Z=e=>{let t=document.createElementNS(`http://www.w3.org/2000/svg`,`text`),n=[];n=typeof e==`string`?e.split(/\\n|\n|<br\s*\/?>/gi):Array.isArray(e)?e:[];for(let e of n){let n=document.createElementNS(`http://www.w3.org/2000/svg`,`tspan`);n.setAttributeNS(`http://www.w3.org/XML/1998/namespace`,`xml:space`,`preserve`),n.setAttribute(`dy`,`1em`),n.setAttribute(`x`,`0`),n.setAttribute(`class`,`row`),n.textContent=e.trim(),t.appendChild(n)}return t},ue=e=>{let t=``,n=0;return e.forEach(e=>{let r=X===`TB`?q[e].y:q[e].x;r>=n&&(t=e,n=r)}),t||void 0},Q=(e,t,n)=>{let r=h().gitGraph,i=e.append(`g`).attr(`class`,`commit-bullets`),a=e.append(`g`).attr(`class`,`commit-labels`),o=0;X===`TB`&&(o=30);let s=Object.keys(t).sort((e,n)=>t[e].seq-t[n].seq),c=r.parallelCommits;s.forEach(e=>{let s=t[e];if(c)if(s.parents.length){let e=ue(s.parents);o=X===`TB`?q[e].y+40:q[e].x+40}else o=0,X===`TB`&&(o=30);let l=o+10,u=X===`TB`?l:K[s.branch].pos,d=X===`TB`?K[s.branch].pos:l;if(n){let e,t=s.customType!==void 0&&s.customType!==``?s.customType:s.type;switch(t){case W.NORMAL:e=`commit-normal`;break;case W.REVERSE:e=`commit-reverse`;break;case W.HIGHLIGHT:e=`commit-highlight`;break;case W.MERGE:e=`commit-merge`;break;case W.CHERRY_PICK:e=`commit-cherry-pick`;break;default:e=`commit-normal`}if(t===W.HIGHLIGHT){let t=i.append(`rect`);t.attr(`x`,d-10),t.attr(`y`,u-10),t.attr(`height`,20),t.attr(`width`,20),t.attr(`class`,`commit ${s.id} commit-highlight${K[s.branch].index%G} ${e}-outer`),i.append(`rect`).attr(`x`,d-6).attr(`y`,u-6).attr(`height`,12).attr(`width`,12).attr(`class`,`commit ${s.id} commit${K[s.branch].index%G} ${e}-inner`)}else if(t===W.CHERRY_PICK)i.append(`circle`).attr(`cx`,d).attr(`cy`,u).attr(`r`,10).attr(`class`,`commit ${s.id} ${e}`),i.append(`circle`).attr(`cx`,d-3).attr(`cy`,u+2).attr(`r`,2.75).attr(`fill`,`#fff`).attr(`class`,`commit ${s.id} ${e}`),i.append(`circle`).attr(`cx`,d+3).attr(`cy`,u+2).attr(`r`,2.75).attr(`fill`,`#fff`).attr(`class`,`commit ${s.id} ${e}`),i.append(`line`).attr(`x1`,d+3).attr(`y1`,u+1).attr(`x2`,d).attr(`y2`,u-5).attr(`stroke`,`#fff`).attr(`class`,`commit ${s.id} ${e}`),i.append(`line`).attr(`x1`,d-3).attr(`y1`,u+1).attr(`x2`,d).attr(`y2`,u-5).attr(`stroke`,`#fff`).attr(`class`,`commit ${s.id} ${e}`);else{let n=i.append(`circle`);if(n.attr(`cx`,d),n.attr(`cy`,u),n.attr(`r`,s.type===W.MERGE?9:10),n.attr(`class`,`commit ${s.id} commit${K[s.branch].index%G}`),t===W.MERGE){let t=i.append(`circle`);t.attr(`cx`,d),t.attr(`cy`,u),t.attr(`r`,6),t.attr(`class`,`commit ${e} ${s.id} commit${K[s.branch].index%G}`)}t===W.REVERSE&&i.append(`path`).attr(`d`,`M ${d-5},${u-5}L${d+5},${u+5}M${d-5},${u+5}L${d+5},${u-5}`).attr(`class`,`commit ${e} ${s.id} commit${K[s.branch].index%G}`)}}if(X===`TB`?q[s.id]={x:d,y:l}:q[s.id]={x:l,y:u},n){if(s.type!==W.CHERRY_PICK&&(s.customId&&s.type===W.MERGE||s.type!==W.MERGE)&&r.showCommitLabel){let e=a.append(`g`),t=e.insert(`rect`).attr(`class`,`commit-label-bkg`),n=e.append(`text`).attr(`x`,o).attr(`y`,u+25).attr(`class`,`commit-label`).text(s.id),i=n.node().getBBox();if(t.attr(`x`,l-i.width/2-2).attr(`y`,u+13.5).attr(`width`,i.width+4).attr(`height`,i.height+4),X===`TB`&&(t.attr(`x`,d-(i.width+16+5)).attr(`y`,u-12),n.attr(`x`,d-(i.width+16)).attr(`y`,u+i.height-12)),X!==`TB`&&n.attr(`x`,l-i.width/2),r.rotateCommitLabel)if(X===`TB`)n.attr(`transform`,`rotate(-45, `+d+`, `+u+`)`),t.attr(`transform`,`rotate(-45, `+d+`, `+u+`)`);else{let t=-7.5-(i.width+10)/25*9.5,n=10+i.width/25*8.5;e.attr(`transform`,`translate(`+t+`, `+n+`) rotate(-45, `+o+`, `+u+`)`)}}if(s.tag){let e=a.insert(`polygon`),t=a.append(`circle`),n=a.append(`text`).attr(`y`,u-16).attr(`class`,`tag-label`).text(s.tag),r=n.node().getBBox();n.attr(`x`,l-r.width/2);let i=r.height/2,c=u-19.2;e.attr(`class`,`tag-label-bkg`).attr(`points`,`
          ${o-r.width/2-4/2},${c+2}
          ${o-r.width/2-4/2},${c-2}
          ${l-r.width/2-4},${c-i-2}
          ${l+r.width/2+4},${c-i-2}
          ${l+r.width/2+4},${c+i+2}
          ${l-r.width/2-4},${c+i+2}`),t.attr(`cx`,o-r.width/2+4/2).attr(`cy`,c).attr(`r`,1.5).attr(`class`,`tag-hole`),X===`TB`&&(e.attr(`class`,`tag-label-bkg`).attr(`points`,`
            ${d},${o+2}
            ${d},${o-2}
            ${d+10},${o-i-2}
            ${d+10+r.width+4},${o-i-2}
            ${d+10+r.width+4},${o+i+2}
            ${d+10},${o+i+2}`).attr(`transform`,`translate(12,12) rotate(45, `+d+`,`+o+`)`),t.attr(`cx`,d+4/2).attr(`cy`,o).attr(`transform`,`translate(12,12) rotate(45, `+d+`,`+o+`)`),n.attr(`x`,d+5).attr(`y`,o+3).attr(`transform`,`translate(14,14) rotate(45, `+d+`,`+o+`)`))}}o+=50,o>Y&&(Y=o)})},de=(e,t,n,r,i)=>{let a=(X===`TB`?n.x<r.x:n.y<r.y)?t.branch:e.branch,o=e=>e.branch===a,s=n=>n.seq>e.seq&&n.seq<t.seq;return Object.values(i).some(e=>s(e)&&o(e))},$=(e,t,n=0)=>{let r=e+Math.abs(e-t)/2;return n>5?r:J.every(e=>Math.abs(e-r)>=10)?(J.push(r),r):$(e,t-Math.abs(e-t)/5,n+1)},fe=(e,t,n,r)=>{let i=q[t.id],a=q[n.id],o=de(t,n,i,a,r),s=``,c=``,l=0,u=0,d=K[n.branch].index;n.type===W.MERGE&&t.id!==n.parents[0]&&(d=K[t.branch].index);let f;if(o){s=`A 10 10, 0, 0, 0,`,c=`A 10 10, 0, 0, 1,`,l=10,u=10;let e=i.y<a.y?$(i.y,a.y):$(a.y,i.y),n=i.x<a.x?$(i.x,a.x):$(a.x,i.x);X===`TB`?i.x<a.x?f=`M ${i.x} ${i.y} L ${n-l} ${i.y} ${c} ${n} ${i.y+u} L ${n} ${a.y-l} ${s} ${n+u} ${a.y} L ${a.x} ${a.y}`:(d=K[t.branch].index,f=`M ${i.x} ${i.y} L ${n+l} ${i.y} ${s} ${n} ${i.y+u} L ${n} ${a.y-l} ${c} ${n-u} ${a.y} L ${a.x} ${a.y}`):i.y<a.y?f=`M ${i.x} ${i.y} L ${i.x} ${e-l} ${s} ${i.x+u} ${e} L ${a.x-l} ${e} ${c} ${a.x} ${e+u} L ${a.x} ${a.y}`:(d=K[t.branch].index,f=`M ${i.x} ${i.y} L ${i.x} ${e+l} ${c} ${i.x+u} ${e} L ${a.x-l} ${e} ${s} ${a.x} ${e-u} L ${a.x} ${a.y}`)}else s=`A 20 20, 0, 0, 0,`,c=`A 20 20, 0, 0, 1,`,l=20,u=20,X===`TB`?(i.x<a.x&&(f=n.type===W.MERGE&&t.id!==n.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y-l} ${s} ${i.x+u} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x-l} ${i.y} ${c} ${a.x} ${i.y+u} L ${a.x} ${a.y}`),i.x>a.x&&(s=`A 20 20, 0, 0, 0,`,c=`A 20 20, 0, 0, 1,`,l=20,u=20,f=n.type===W.MERGE&&t.id!==n.parents[0]?`M ${i.x} ${i.y} L ${i.x} ${a.y-l} ${c} ${i.x-u} ${a.y} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${a.x+l} ${i.y} ${s} ${a.x} ${i.y+u} L ${a.x} ${a.y}`),i.x===a.x&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`)):(i.y<a.y&&(f=n.type===W.MERGE&&t.id!==n.parents[0]?`M ${i.x} ${i.y} L ${a.x-l} ${i.y} ${c} ${a.x} ${i.y+u} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${i.x} ${a.y-l} ${s} ${i.x+u} ${a.y} L ${a.x} ${a.y}`),i.y>a.y&&(f=n.type===W.MERGE&&t.id!==n.parents[0]?`M ${i.x} ${i.y} L ${a.x-l} ${i.y} ${s} ${a.x} ${i.y-u} L ${a.x} ${a.y}`:`M ${i.x} ${i.y} L ${i.x} ${a.y+l} ${c} ${i.x+u} ${a.y} L ${a.x} ${a.y}`),i.y===a.y&&(f=`M ${i.x} ${i.y} L ${a.x} ${a.y}`));e.append(`path`).attr(`d`,f).attr(`class`,`arrow arrow`+d%G)},pe=(e,t)=>{let n=e.append(`g`).attr(`class`,`commit-arrows`);Object.keys(t).forEach(e=>{let r=t[e];r.parents&&r.parents.length>0&&r.parents.forEach(e=>{fe(n,t[e],r,t)})})},me=(e,t)=>{let n=h().gitGraph,r=e.append(`g`);t.forEach((e,t)=>{let i=t%G,a=K[e.name].pos,o=r.append(`line`);o.attr(`x1`,0),o.attr(`y1`,a),o.attr(`x2`,Y),o.attr(`y2`,a),o.attr(`class`,`branch branch`+i),X===`TB`&&(o.attr(`y1`,30),o.attr(`x1`,a),o.attr(`y2`,Y),o.attr(`x2`,a)),J.push(a);let s=e.name,c=Z(s),l=r.insert(`rect`),u=r.insert(`g`).attr(`class`,`branchLabel`).insert(`g`).attr(`class`,`label branch-label`+i);u.node().appendChild(c);let d=c.getBBox();l.attr(`class`,`branchLabelBkg label`+i).attr(`rx`,4).attr(`ry`,4).attr(`x`,-d.width-4-(n.rotateCommitLabel===!0?30:0)).attr(`y`,-d.height/2+8).attr(`width`,d.width+18).attr(`height`,d.height+4),u.attr(`transform`,`translate(`+(-d.width-14-(n.rotateCommitLabel===!0?30:0))+`, `+(a-d.height/2-1)+`)`),X===`TB`&&(l.attr(`x`,a-d.width/2-10).attr(`y`,0),u.attr(`transform`,`translate(`+(a-d.width/2-5)+`, 0)`)),X!==`TB`&&l.attr(`transform`,`translate(-19, `+(a-d.height/2)+`)`)})},he={parser:v,db:ce,renderer:{draw:function(e,t,i,a){le();let o=h(),s=o.gitGraph;r.debug(`in gitgraph renderer`,e+`
`,`id:`,t,i),U=a.db.getCommits();let l=a.db.getBranchesAsObjArray();X=a.db.getDirection();let u=g(`[id="${t}"]`),d=0;l.forEach((e,t)=>{let n=Z(e.name),r=u.append(`g`),i=r.insert(`g`).attr(`class`,`branchLabel`),a=i.insert(`g`).attr(`class`,`label branch-label`);a.node().appendChild(n);let o=n.getBBox();K[e.name]={pos:d,index:t},d+=50+(s.rotateCommitLabel?40:0)+(X===`TB`?o.width/2:0),a.remove(),i.remove(),r.remove()}),Q(u,U,!1),s.showBranches&&me(u,l),pe(u,U),Q(u,U,!0),n.insertTitle(u,`gitTitleText`,s.titleTopMargin,a.db.getDiagramTitle()),c(void 0,u,s.diagramPadding,s.useMaxWidth??o.useMaxWidth)}},styles:e=>`
  .commit-id,
  .commit-msg,
  .branch-label {
    fill: lightgrey;
    color: lightgrey;
    font-family: 'trebuchet ms', verdana, arial, sans-serif;
    font-family: var(--mermaid-font-family);
  }
  ${[0,1,2,3,4,5,6,7].map(t=>`
        .branch-label${t} { fill: ${e[`gitBranchLabel`+t]}; }
        .commit${t} { stroke: ${e[`git`+t]}; fill: ${e[`git`+t]}; }
        .commit-highlight${t} { stroke: ${e[`gitInv`+t]}; fill: ${e[`gitInv`+t]}; }
        .label${t}  { fill: ${e[`git`+t]}; }
        .arrow${t} { stroke: ${e[`git`+t]}; }
        `).join(`
`)}

  .branch {
    stroke-width: 1;
    stroke: ${e.lineColor};
    stroke-dasharray: 2;
  }
  .commit-label { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelColor};}
  .commit-label-bkg { font-size: ${e.commitLabelFontSize}; fill: ${e.commitLabelBackground}; opacity: 0.5; }
  .tag-label { font-size: ${e.tagLabelFontSize}; fill: ${e.tagLabelColor};}
  .tag-label-bkg { fill: ${e.tagLabelBackground}; stroke: ${e.tagLabelBorder}; }
  .tag-hole { fill: ${e.textColor}; }

  .commit-merge {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }
  .commit-reverse {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
    stroke-width: 3;
  }
  .commit-highlight-outer {
  }
  .commit-highlight-inner {
    stroke: ${e.primaryColor};
    fill: ${e.primaryColor};
  }

  .arrow { stroke-width: 8; stroke-linecap: round; fill: none}
  .gitTitleText {
    text-anchor: middle;
    font-size: 18px;
    fill: ${e.textColor};
  }
`};export{he as diagram};