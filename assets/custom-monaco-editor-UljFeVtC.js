import{s as e}from"./rolldown-runtime-B6ubh40S.js";import{N as t,P as n,k as r}from"./chakra-ui-DL3iEWi3.js";import"./excalidraw-CzZiepgk.js";import{En as i,Tn as a,wn as o}from"./monaco-BOlBa4ve.js";var s=e(n(),1),c=e(t(),1);const l=e=>{let{colorMode:t}=r(),{theme:n,options:a,onMount:o,value:l,language:u,keyBindings:d,onChange:f}=e,p=s.useRef(null),m=s.useRef(null);return s.useEffect(()=>{if(!m.current)return;let e=n||(t===`dark`?`vs-dark`:`vs`);p.current=i.create(m.current,{value:l,language:u,theme:e,...a}),o?.();let r=p.current.onDidChangeModelContent(()=>{f?.(p.current?.getValue()??``)});d?.forEach(e=>{p.current?.addCommand(e.key,e.action)});let s=new ResizeObserver(()=>{p.current?.layout()});return s.observe(m.current),()=>{s.disconnect(),r.dispose(),p.current?.dispose()}},[l,u,a,o,d,n,t,f]),s.useEffect(()=>{if(p.current){let e=p.current.getModel(),t=p.current.getPosition();p.current.setValue(l),e&&t&&(p.current.setPosition(t),p.current.revealPosition(t))}},[l]),s.useEffect(()=>{if(p.current&&!n){let e=t===`dark`?`vs-dark`:`vs`;i.setTheme(e)}},[t,n]),(0,c.jsx)(`div`,{ref:m,style:{height:`100%`}})},u=a,d=o;export{l as CustomMonacoEditor,d as MonacoKeyCode,u as MonacoKeyMod};